!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";i.r(t);class n{constructor(e){this.init(e)}init(e){const t=document.querySelector(".map");e.map(e=>{t.insertAdjacentHTML("afterbegin",`<g class="hide" id="${e.id}Text">\n                        <rect id="rect${e.id}" fill="white" > </rect>\n                        <text x="${e.x-20}" y="${e.y-20}" font-style="italic">${e.name}</text>\n                         </g>\n                        <circle id="${e.id}Point" class="point" r="5" cx="${e.x}" cy="${e.y}"/>`);const i=document.querySelector(`#rect${e.id}`),n=document.querySelector(`#${e.id}Text`).getBBox();i.setAttribute("x",n.x-5),i.setAttribute("y",n.y-3),i.setAttribute("width",n.width+10),i.setAttribute("height",n.height+7),document.querySelector(`#${e.id}Point`).addEventListener("mouseenter",(function(t){const i=document.querySelector(`#${e.id}Text`);i.classList.remove("hide"),t.target.style.fill="orange",setTimeout((function(){i.classList.add("hide"),t.target.style.fill=""}),1500)}),!1)})}}class r{constructor(e,t){this.zones=e,this.images=t,this.imageActivelist=[],this.initImages(),window.setInterval(this.randomImages,1e3)}initImages(){const e=document.querySelector(".zones");for(let t=0;t<6;t++){const i={time:0,imageN:0,active:!1,x:0,y:0};this.imageActivelist.push(i),e.insertAdjacentHTML("afterbegin",`<img id="img${t}" class="hide"></img>`)}}randomImages(){let e=0,t=c.getRandom(1,3);for(let i=0;i<c.imageActivelist.length;i++){const n=c.imageActivelist[i];if(n.time>5e3){document.querySelector(`#img${i}`).classList.add("hide"),n.time=0,n.active=!1,n.x=0,n.y=0}else{if(0===n.time&&e<t){let t;for(;;){let e=!0;const i=c.getRandom(0,c.images.length);t=c.images[i];for(let t=0;t<c.imageActivelist.length;t++)if(c.imageActivelist[t].imageN===i){e=!1;break}if(!0===e){n.imageN=i;break}}const r=document.querySelector(`#img${i}`),o=c.getZoneById(t.zoneId,c.zones),s=c.getCorrectCoordinates(o.x1,o.x2,"x",c.imageActivelist);if(-1===s)continue;const a=c.getCorrectCoordinates(o.y1,o.y2,"y",c.imageActivelist);if(-1===a)continue;n.x=s,n.y=a,n.time=1,n.active=!0,e+=1,r.src=t.src,r.style.left=s+"px",r.style.top=a+"px",r.classList.remove("hide")}n.active&&(n.time+=1e3)}}}getCorrectCoordinates(e,t,i,n){for(let r=0;r<30;r++){let r=!0;const o=c.getRandom(e,t);for(let e=0;e<n.length;e++){const t=n[e];if(t[i]+60>o&&t[i]-60<o){r=!1;break}}if(!0===r)return o}return-1}getZoneById(e,t){const i=t[e-1];return i.length<1?i[0]:i[c.getRandom(0,i.length)]}getRandom(e,t){return Math.floor(Math.random()*(t-e))+e}}let o,c;i.d(t,"cities",(function(){return o})),i.d(t,"zones",(function(){return c})),(async()=>{try{let e=await(await fetch("info.json")).json();o=new n(e.cities),c=new r(e.zones,e.images)}catch(e){console.log(e)}})()}]);